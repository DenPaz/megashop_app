{% extends "account/_base.html" %}

{% load i18n %}
{% load static %}
{% load widget_tweaks %}

{% block title %}
  {% trans "Entrar" %}
{% endblock title %}
{% block header_text %}
  {% if ACCOUNT_ALLOW_REGISTRATION %}
    <span class="navbar-text">
      {% trans "Não tem uma conta?" %}
      <a href="{% url 'account_signup' %}" class="link-primary fw-bold">
        {% trans "Cadastre-se" %}
      </a>
    </span>
  {% endif %}
{% endblock header_text %}
{% block content %}
  <section class="row justify-content-center my-lg-14 my-8">
    <div class="col-lg-4 col-md-6 col-12 order-lg-1 order-2">
      <img src="{% static 'assets/images/svg-graphics/signin-g.svg' %}"
           class="img-fluid"
           alt="login" />
    </div>
    <div class="col-lg-5 col-md-6 col-12 offset-lg-1 order-lg-2 order-1">
      <div class="mb-6">
        <h2 class="fw-bold mb-3">
          {% trans "Entrar" %}
        </h2>
        <p>
          {% trans "Bem-vindo de volta! Insira suas credenciais para acessar sua conta." %}
        </p>
      </div>
      <form method="post" action="{% url 'account_login' %}">
        {% csrf_token %}
        <div class="vstack gap-3">
          {% render_field form.login class="form-control" placeholder="E-mail" %}
          <div class="vstack gap-3">
            <div class="password-field position-relative">
              {% render_field form.password class="form-control fakePassword" placeholder="Senha" %}
              <span><i class="bi bi-eye-slash passwordToggler"></i></span>
            </div>
            <div class="hstack justify-content-between">
              <div class="form-check">
                {% render_field form.remember class="form-check-input" %}
                <label class="form-check-label" for="{{ form.remember.id_for_label }}">
                  {% trans "Lembrar-me" %}
                </label>
              </div>
              <a href="{% url 'account_reset_password' %}" class="link-primary">
                {% trans "Esqueceu a senha?" %}
              </a>
            </div>
          </div>
          <button type="submit" class="btn btn-primary">
            {% trans "Entrar" %}
          </button>
          {% if ACCOUNT_ALLOW_REGISTRATION %}
            <div>
              {% trans "Não tem uma conta?" %}
              <a href="{% url 'account_signup' %}" class="link-primary">
                {% trans "Cadastre-se" %}
              </a>
            </div>
          {% endif %}
        </div>
      </form>
      {% if form.non_field_errors %}
        <div class="alert alert-danger alert-dismissible fade show mt-6">
          {% for error in form.non_field_errors %}
            <span>{{ error }}</span>
          {% endfor %}
          <button type="button" class="btn-close" data-bs-dismiss="alert">
          </button>
        </div>
      {% endif %}
    </div>
  </section>
{% endblock content %}
